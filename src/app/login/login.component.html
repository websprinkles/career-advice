<div class='auth-form'>
  <div class="btn-wrap">
    <button pButton type="button" (click)="navigateOut();" icon="pi pi-times" class="btn transparent"></button>
  </div>
  <h1 class="header">Login</h1>
  <div class="container">
    <div class="row">
      <div class="col6">
        <form *ngIf="!passwordReset && loginForm" [formGroup]="loginForm">
          <div class="form-group">
            <label>Email address</label>
            <input type="email" formControlName="email" class="form-control">
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" formControlName="password">
            <label class="error">{{errorMessage}}</label>
          </div>
          <button type="submit" (click)="tryLogin(loginForm.value)" class="btn btn-default">Login</button>
        </form>

        <div class="column">
          <div style="width: 100%;">
            <form *ngIf="passwordReset && resetPasswordForm" [formGroup]="resetPasswordForm">
              <div class="form-group">
                <label>Email to reset password</label>
                <input type="email" class="form-control" formControlName="email" pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]">
                <label class="error">{{errorMessage}}</label>
                <label class="success">{{successMessage}}</label>
              </div>
              <button type="submit" (click)="tryResendPassword(resetPasswordForm.value.email)" class="btn btn-default">Send me an email with a link</button>
            </form>
          </div>
          <div class="col4">
            <p-toggleButton [(ngModel)]="passwordReset" class="dark" onLabel="Login with email and password" offLabel="Forgot password?" onIcon="pi pi-pencil" offIcon="pi pi-times" [style]="{'width': '10em'}"></p-toggleButton>
          </div>
        </div>
      </div>
    </div>
    <div>
      <ul class="row divider">
        <li class="border-top"></li>
        <li>OR</li>
        <li class="border-top"></li>
      </ul>
    </div>
    <div class="row">
      <div class="col4">
        <button type="button" pButton class="transparent fb" (click)="tryFacebookLogin()" icon="fa fa-facebook" label="Login with Facebook"></button>
      </div>
    </div>
    <div class="row">
      <div class="col4">
        <button type="button" pButton class="transparent google" (click)="tryGoogleLogin()" icon="pi pi-google" label="Login with Google"></button>
      </div>
    </div>
    <div class="row small-font">
      <div class="col4">
        By logging in you acknowledge that you have read, understood and give consent to our
            <a routerLink="/home/legal/terms">Terms of Services</a>, <a routerLink="/home/legal/privacy">Privacy Policy</a> and <a routerLink="/home/legal/cookies">Cookies Policy</a>
      </div>
    </div>
    <div class="row">
      <div class="col4">
        <p>No account yet?  <a [routerLink]="['/home', {outlets: {modal: ['register']}}]" queryParamsHandling="merge">
          Create an account</a></p>
      </div>
    </div>
  </div>
</div>
